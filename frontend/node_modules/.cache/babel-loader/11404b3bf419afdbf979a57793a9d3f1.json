{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/aryan/Desktop/iiit/4sem/dass/ass1/ass/frontend/src/components/login.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport ls from \"local-storage\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: \"\"\n    };\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  } // onChange = e => {\n  //   this.setState({ [e.target.id]: e.target.value });\n  // };\n\n\n  onSubmit(e) {\n    e.preventDefault();\n    const UserData = {\n      email: this.state.email,\n      password: this.state.password\n    }; // console.log(UserData);\n    // axios.post('http://localhost:4000/users/register', newUser)\n\n    axios.post('/users/login', UserData).then(res => {\n      alert(\"Logged In Successfully\"); // console.log(res.data.user.name);\n\n      ls.set(\"auth\", \"true\");\n      ls.set(\"name\", res.data.user.name);\n      ls.set(\"email\", res.data.user.email);\n      ls.set(\"type\", res.data.user.type);\n      window.location = \"/\";\n    }).catch(err => {\n      alert(err.response.data[Object.keys(err.response.data)[0]]);\n      console.log(err.response);\n    }); // this.setState({\n    //   name: ''\n    // })\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.email,\n            onChange: this.onChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.password,\n            onChange: this.onChangePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Login\",\n            className: \"btn btn-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/aryan/Desktop/iiit/4sem/dass/ass1/ass/frontend/src/components/login.component.js"],"names":["React","Component","axios","ls","Login","constructor","props","state","email","password","onChangeEmail","bind","onChangePassword","onSubmit","e","setState","target","value","preventDefault","UserData","post","then","res","alert","set","data","user","name","type","window","location","catch","err","response","Object","keys","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport ls from \"local-storage\";\n\nexport default class Login extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: \"\",\n    }\n\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    \n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    })\n  }\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    })\n  }\n  \n  // onChange = e => {\n  //   this.setState({ [e.target.id]: e.target.value });\n  // };\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const UserData = {\n      email: this.state.email,\n      password: this.state.password,\n    }\n\n    // console.log(UserData);\n\n    // axios.post('http://localhost:4000/users/register', newUser)\n    axios.post('/users/login', UserData)\n      .then( res => {\n\t\t\t\talert(\"Logged In Successfully\");\n\n        // console.log(res.data.user.name);\n        ls.set(\"auth\", \"true\");\n        ls.set(\"name\", res.data.user.name);\n        ls.set(\"email\", res.data.user.email);\n        ls.set(\"type\", res.data.user.type);\n\n        window.location = \"/\";    \n      })\n      .catch( err => {\n        alert(err.response.data[Object.keys(err.response.data)[0]]);\n        console.log(err.response);\n      });\n\n    // this.setState({\n    //   name: ''\n    // })\n  }\n\n\n  render() {\n    return (\n      <div>\n        <h3>Login</h3>\n        <form onSubmit={this.onSubmit}>\n          <div className=\"form-group\"> \n            <label>Email: </label>\n            <input  type=\"text\"\n                required\n                className=\"form-control\"\n                value={this.state.email}\n                onChange={this.onChangeEmail}\n                />\n          </div>\n          <div className=\"form-group\"> \n            <label>Password: </label>\n            <input  type=\"password\"\n                required\n                className=\"form-control\"\n                value={this.state.password}\n                onChange={this.onChangePassword}\n                />\n          </div>\n          <div className=\"form-group\">\n            <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\n          </div>\n        </form>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}